import{_ as t}from"./chunks/ArticleMetadata.f3b87b78.js";import{_ as c,c as r,E as y,B as A,z as l,a as E,R as C,G as D,o as p,A as F,C as B}from"./chunks/framework.23582046.js";import"./chunks/md5.3856627a.js";const h=JSON.parse('{"title":"ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯","description":"","frontmatter":{"title":"ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯","author":"æŸ¥å°”æ–¯","date":"2021/11/22 18:22","categories":["æ–¹æ¡ˆæ˜¥ç§‹å¿—"],"tags":["SQL"]},"headers":[],"relativePath":"categories/solutions/2021/11/22/ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯.md","filePath":"categories/solutions/2021/11/22/ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯.md","lastUpdated":1660404656000}'),i={name:"categories/solutions/2021/11/22/ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯.md"},S=l("h1",{id:"ä¸€æ¡sqlæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯",tabindex:"-1"},[E("ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯ "),l("a",{class:"header-anchor",href:"#ä¸€æ¡sqlæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯","aria-label":'Permalink to "ä¸€æ¡SQLæŸ¥è¯¢ä»Šå¹´æ¯æœˆç»Ÿè®¡ä¿¡æ¯"'},"â€‹")],-1),N=C('<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h2><p><strong>Cï¼š</strong> å‰ä¸ä¹…ï¼Œç¬”è€…ä»‹ç»è¿‡ä¸€ç§ç»Ÿè®¡è¿‘ N å¤©è®°å½•æ•°çš„éœ€æ±‚è§£å†³æ–¹æ¡ˆã€‚ä»Šå¤©ï¼Œç¬”è€…å†ä»‹ç»ä¸€ç§ä¹Ÿå¾ˆå¸¸è§çš„ç»Ÿè®¡éœ€æ±‚ã€‚</p><div class="info custom-block"><p class="custom-block-title">ç¤ºä¾‹éœ€æ±‚ï¼š ç»Ÿè®¡ä»Šå¹´æ¯æœˆçš„æ³¨å†Œç”¨æˆ·æ•°ã€‚</p><p>ä½ å¯ä»¥åŸºäºè¿™ä¸ªç¤ºä¾‹éœ€æ±‚ï¼Œå»å®Œæˆå„ç§ç±»ä¼¼çš„æœˆç»Ÿè®¡éœ€æ±‚ã€‚è€Œä¸”å•Šï¼Œç¬”è€…ä»Šå¤©è¿™ä¸ªéœ€æ±‚è§£å†³æ–¹æ¡ˆçš„é‡ç‚¹æ˜¯åœ¨ SQL ä¸Šï¼Œè¿™ç±»éœ€æ±‚é—®é¢˜åœ¨ SQL è¯­å¥ç¬”è¯•ä¸Šä¹ŸæŒºå¸¸è§ï¼Œæ‰€ä»¥ä¸‹å›å†è§åˆ°ç±»ä¼¼çš„éœ€æ±‚ï¼Œä½ å¯ä»¥å¥½å¥½å›æƒ³ä¸‹æœ¬ç¯‡å®ç°ã€‚</p></div><h2 id="æ¶‰åŠæŠ€æœ¯æ ˆ" tabindex="-1">æ¶‰åŠæŠ€æœ¯æ ˆ <a class="header-anchor" href="#æ¶‰åŠæŠ€æœ¯æ ˆ" aria-label="Permalink to &quot;æ¶‰åŠæŠ€æœ¯æ ˆ&quot;">â€‹</a></h2><ul><li>Spring Boot 2.3.1.RELEASE</li><li>MyBatis Plus 3.1.0ï¼ˆä½¿ç”¨äº† MyBatis Plus çš„ä»£ç ç”Ÿæˆå™¨ï¼‰</li><li>MySQL 5.6</li></ul><h2 id="controllerå±‚" tabindex="-1">Controllerå±‚ <a class="header-anchor" href="#controllerå±‚" aria-label="Permalink to &quot;Controllerå±‚&quot;">â€‹</a></h2><p>ç•¥</p><h2 id="serviceå±‚" tabindex="-1">Serviceå±‚ <a class="header-anchor" href="#serviceå±‚" aria-label="Permalink to &quot;Serviceå±‚&quot;">â€‹</a></h2><p>ç•¥</p><h2 id="daoå±‚" tabindex="-1">DAOå±‚ <a class="header-anchor" href="#daoå±‚" aria-label="Permalink to &quot;DAOå±‚&quot;">â€‹</a></h2><div class="warning custom-block"><p class="custom-block-title">ç¬”è€…è¯´</p><p>è®°å¾—è¦é‡‡ç”¨ LinkedHashMapï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç»“æœé›†çš„æœ‰åºï¼Œå³ï¼š1æœˆã€2æœˆã€......ã€‚</p></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">Select</span><span style="color:#ADBAC7;">({</span></span>\n<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#96D0FF;">&quot;SELECT&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;1&#39; THEN 1 ELSE 0 END) AS `1æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;2&#39; THEN 1 ELSE 0 END) AS `2æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;3&#39; THEN 1 ELSE 0 END) AS `3æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;4&#39; THEN 1 ELSE 0 END) AS `4æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;5&#39; THEN 1 ELSE 0 END) AS `5æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;6&#39; THEN 1 ELSE 0 END) AS `6æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;7&#39; THEN 1 ELSE 0 END) AS `7æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;8&#39; THEN 1 ELSE 0 END) AS `8æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;9&#39; THEN 1 ELSE 0 END) AS `9æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;10&#39; THEN 1 ELSE 0 END) AS `10æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    	</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;11&#39; THEN 1 ELSE 0 END) AS `11æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">   		</span><span style="color:#96D0FF;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;12&#39; THEN 1 ELSE 0 END) AS `12æœˆ`,&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#96D0FF;">&quot;FROM `t_user`&quot;</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#96D0FF;">&quot;WHERE YEAR(`create_time`)= YEAR(NOW())&quot;</span></span>\n<span class="line"><span style="color:#ADBAC7;">})</span></span>\n<span class="line"><span style="color:#ADBAC7;">LinkedHashMap</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">String, Integer</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">countRegisterByMonth</span><span style="color:#ADBAC7;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Select</span><span style="color:#24292E;">({</span></span>\n<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;SELECT&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;1&#39; THEN 1 ELSE 0 END) AS `1æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;2&#39; THEN 1 ELSE 0 END) AS `2æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;3&#39; THEN 1 ELSE 0 END) AS `3æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;4&#39; THEN 1 ELSE 0 END) AS `4æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;5&#39; THEN 1 ELSE 0 END) AS `5æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;6&#39; THEN 1 ELSE 0 END) AS `6æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;7&#39; THEN 1 ELSE 0 END) AS `7æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;8&#39; THEN 1 ELSE 0 END) AS `8æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;9&#39; THEN 1 ELSE 0 END) AS `9æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;10&#39; THEN 1 ELSE 0 END) AS `10æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    	</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;11&#39; THEN 1 ELSE 0 END) AS `11æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">   		</span><span style="color:#032F62;">&quot;SUM(CASE MONTH(`create_time`) WHEN &#39;12&#39; THEN 1 ELSE 0 END) AS `12æœˆ`,&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;FROM `t_user`&quot;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;WHERE YEAR(`create_time`)= YEAR(NOW())&quot;</span></span>\n<span class="line"><span style="color:#24292E;">})</span></span>\n<span class="line"><span style="color:#24292E;">LinkedHashMap</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Integer</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">countRegisterByMonth</span><span style="color:#24292E;">();</span></span></code></pre></div><h2 id="sqlè¯­å¥" tabindex="-1">SQLè¯­å¥ <a class="header-anchor" href="#sqlè¯­å¥" aria-label="Permalink to &quot;SQLè¯­å¥&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ç¬”è€…è¯´</p><p>è¿™æ¡ SQL çš„æ€è·¯å°±æ˜¯å°†æ¯æ¡è®°å½•çš„ create_timeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰æ±‚ä¸€ä¸‹æœˆä»½ä¿¡æ¯ï¼Œæ±‚å‡ºçš„æœˆä»½å¦‚æœæ˜¯å¯¹åº”çš„æœˆä»½ï¼Œé‚£ä¹ˆå°±è®°ä¸º 1ï¼Œå¦åˆ™è®°ä¸º 0ï¼Œè¿™æ ·æ¯æœˆæœ€åå†åšä¸ª SUM æ±‚å’Œï¼Œå°±å¯ä»¥å¿«é€Ÿå¾—åˆ°å¯¹åº”æœˆä»½çš„è®°å½•æ•°é‡äº†ï¼Œä¸ç”¨ COUNT ä¾ç„¶å¯ä»¥è®¡æ•°ã€‚</p><p>SQLè¯­å¥å•ç‹¬æ”¾åœ¨ä¸‹é¢ï¼Œæ–¹ä¾¿å„ä½åŒå­¦å¤åˆ¶ã€‚ğŸ˜„</p></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;"># ç»Ÿè®¡ä»Šå¹´æ¯æœˆçš„æ³¨å†Œç”¨æˆ·æ•°</span></span>\n<span class="line"><span style="color:#F47067;">SELECT</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;1&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`1æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;2&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`2æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;3&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`3æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;4&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`4æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;5&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`5æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;6&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`6æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;7&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`7æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;8&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`8æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;9&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`9æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;10&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`10æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;11&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`11æœˆ`</span><span style="color:#ADBAC7;">,</span></span>\n<span class="line"><span style="color:#ADBAC7;">	</span><span style="color:#6CB6FF;">SUM</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">CASE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">MONTH</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">WHEN</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&#39;12&#39;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">THEN</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">ELSE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">END</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">AS</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`12æœˆ`</span><span style="color:#ADBAC7;"> </span></span>\n<span class="line"><span style="color:#F47067;">FROM</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">`t_user`</span><span style="color:#ADBAC7;"> # æ ¹æ®è‡ªèº«éœ€è¦ç¡®å®šå®é™…ä¸šåŠ¡è¡¨</span></span>\n<span class="line"><span style="color:#F47067;">WHERE</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">YEAR</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">`create_time`</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">YEAR</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">NOW</span><span style="color:#ADBAC7;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"># ç»Ÿè®¡ä»Šå¹´æ¯æœˆçš„æ³¨å†Œç”¨æˆ·æ•°</span></span>\n<span class="line"><span style="color:#D73A49;">SELECT</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`1æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`2æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`3æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;4&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`4æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;5&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`5æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;6&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`6æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;7&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`7æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;8&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`8æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;9&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`9æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;10&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`10æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;11&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`11æœˆ`</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">CASE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">WHEN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;12&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">THEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ELSE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">END</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`12æœˆ`</span><span style="color:#24292E;"> </span></span>\n<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`t_user`</span><span style="color:#24292E;"> # æ ¹æ®è‡ªèº«éœ€è¦ç¡®å®šå®é™…ä¸šåŠ¡è¡¨</span></span>\n<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">YEAR</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">YEAR</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span></code></pre></div>',15);function H(s,u,M,T,_,m){const o=t,e=D("ClientOnly");return p(),r("div",null,[S,y(e,null,{default:A(()=>{var a,n;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((n=s.$frontmatter)==null?void 0:n.showArticleMetadata)??!0)?(p(),F(o,{key:0,article:s.$frontmatter},null,8,["article"])):B("",!0)]}),_:1}),N])}const O=c(i,[["render",H]]);export{h as __pageData,O as default};
