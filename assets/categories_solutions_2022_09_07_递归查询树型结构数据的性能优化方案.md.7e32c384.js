import{_ as t}from"./chunks/ArticleMetadata.f3b87b78.js";import{_ as c,c as r,E as y,B as i,z as l,a as A,R as D,G as C,o as p,A as B,C as F}from"./chunks/framework.23582046.js";import"./chunks/md5.3856627a.js";const E="/assets/202209072221666.8bc948b7.png",d="/assets/202209072245777.f5c2bf52.png",q=JSON.parse('{"title":"递归查询树型结构数据的性能优化方案","description":"","frontmatter":{"title":"递归查询树型结构数据的性能优化方案","author":"查尔斯","date":"2022/09/07 21:05","categories":["方案春秋志"],"tags":["Java","递归","性能优化"]},"headers":[],"relativePath":"categories/solutions/2022/09/07/递归查询树型结构数据的性能优化方案.md","filePath":"categories/solutions/2022/09/07/递归查询树型结构数据的性能优化方案.md","lastUpdated":1662563767000}'),u={name:"categories/solutions/2022/09/07/递归查询树型结构数据的性能优化方案.md"},g=l("h1",{id:"递归查询树型结构数据的性能优化方案",tabindex:"-1"},[A("递归查询树型结构数据的性能优化方案 "),l("a",{class:"header-anchor",href:"#递归查询树型结构数据的性能优化方案","aria-label":'Permalink to "递归查询树型结构数据的性能优化方案"'},"​")],-1),h=D(`<p><strong>C：</strong> 在日常开发中，像系统菜单、文件目录、多级分类这样的树型结构业务数据，我们往往会采用递归的方式来完成数据的查询处理。</p><p>递归查询数据的确很方便，但稍微不注意就会造成较大的性能损耗，今天笔者就简单介绍一种优化方案。</p><h2 id="sql递归查询方案" tabindex="-1">SQL递归查询方案 <a class="header-anchor" href="#sql递归查询方案" aria-label="Permalink to &quot;SQL递归查询方案&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">查询思路</p><ol><li>SQL 查询一级数据</li><li>遍历一级数据</li><li>通过一级数据 <strong>递归</strong> SQL 查询二级...等子级数据</li></ol></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark-dimmed has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 根据字典码查询树型字典</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">code</span><span style="color:#768390;"> 字典码</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@return</span><span style="color:#768390;"> 树型字典</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">KeyValueItemVo</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">listDictTreeByCode</span><span style="color:#ADBAC7;">(String code) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// #####开始计时#####</span></span>
<span class="line"><span style="color:#ADBAC7;">    TimeInterval</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">timer</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> DateUtil.</span><span style="color:#DCBDFB;">timer</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 1、获取一级字典</span></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">oneLevelDictList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">listDictByCodeAndParentId</span><span style="color:#ADBAC7;">(code, </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">);</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (CollUtil.</span><span style="color:#DCBDFB;">isEmpty</span><span style="color:#ADBAC7;">(oneLevelDictList)) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 2、遍历一级字典</span></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">resultList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#ADBAC7;">    oneLevelDictList.</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;">(oneLevelDict </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        KeyValueItemVo</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">result</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(oneLevelDict.</span><span style="color:#DCBDFB;">getDictKey</span><span style="color:#ADBAC7;">(), oneLevelDict.</span><span style="color:#DCBDFB;">getDictValue</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 3、递归获取子级字典</span></span>
<span class="line"><span style="color:#ADBAC7;">        result.</span><span style="color:#DCBDFB;">setItems</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(oneLevelDict.</span><span style="color:#DCBDFB;">getDictId</span><span style="color:#ADBAC7;">()));</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        resultList.</span><span style="color:#DCBDFB;">add</span><span style="color:#ADBAC7;">(result);</span></span>
<span class="line"><span style="color:#ADBAC7;">    });</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// #####打印计时#####</span></span>
<span class="line"><span style="color:#ADBAC7;">    System.out.</span><span style="color:#DCBDFB;">println</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;总耗时：&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> timer.</span><span style="color:#DCBDFB;">interval</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;ms&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> resultList;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 根据父ID查询子字典树</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">parentId</span><span style="color:#768390;"> 父ID</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@return</span><span style="color:#768390;"> 子字典树</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#F47067;">private</span><span style="color:#ADBAC7;"> List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">KeyValueItemVo</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(Long parentId) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">children</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">listDictByCodeAndParentId</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">, parentId);</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (CollUtil.</span><span style="color:#DCBDFB;">isEmpty</span><span style="color:#ADBAC7;">(children)) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">resultList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#ADBAC7;">    children.</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;">(child </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        KeyValueItemVo</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">result</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(child.</span><span style="color:#DCBDFB;">getDictKey</span><span style="color:#ADBAC7;">(), child.</span><span style="color:#DCBDFB;">getDictValue</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">        result.</span><span style="color:#DCBDFB;">setItems</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(child.</span><span style="color:#DCBDFB;">getDictId</span><span style="color:#ADBAC7;">()));</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        resultList.</span><span style="color:#DCBDFB;">add</span><span style="color:#ADBAC7;">(result);</span></span>
<span class="line"><span style="color:#ADBAC7;">    });</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> resultList;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 根据字典码和父ID查询字典列表</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">code</span><span style="color:#768390;">     字典码</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">parentId</span><span style="color:#768390;"> 父ID</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@return</span><span style="color:#768390;"> 字典列表</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">SysDict</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">listDictByCodeAndParentId</span><span style="color:#ADBAC7;">(String code, Long parentId) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    LambdaQueryWrapper</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">queryWrapper</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Wrappers.</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">SysDict</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">lambdaQuery</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">eq</span><span style="color:#ADBAC7;">(StrUtil.</span><span style="color:#DCBDFB;">isNotBlank</span><span style="color:#ADBAC7;">(code), SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getCode, code)</span></span>
<span class="line"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">orderByAsc</span><span style="color:#ADBAC7;">(SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getSort);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (parentId </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        queryWrapper.</span><span style="color:#DCBDFB;">isNull</span><span style="color:#ADBAC7;">(SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getParentId);</span></span>
<span class="line"><span style="color:#ADBAC7;">    } </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        queryWrapper.</span><span style="color:#DCBDFB;">eq</span><span style="color:#ADBAC7;">(SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getParentId, parentId);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> dictMapper.</span><span style="color:#DCBDFB;">selectList</span><span style="color:#ADBAC7;">(queryWrapper);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 根据字典码查询树型字典</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">code</span><span style="color:#6A737D;"> 字典码</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@return</span><span style="color:#6A737D;"> 树型字典</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">KeyValueItemVo</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listDictTreeByCode</span><span style="color:#24292E;">(String code) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// #####开始计时#####</span></span>
<span class="line"><span style="color:#24292E;">    TimeInterval timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DateUtil.</span><span style="color:#6F42C1;">timer</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 1、获取一级字典</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; oneLevelDictList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">listDictByCodeAndParentId</span><span style="color:#24292E;">(code, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line highlighted"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (CollUtil.</span><span style="color:#6F42C1;">isEmpty</span><span style="color:#24292E;">(oneLevelDictList)) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 2、遍历一级字典</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; resultList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    oneLevelDictList.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(oneLevelDict </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        KeyValueItemVo result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(oneLevelDict.</span><span style="color:#6F42C1;">getDictKey</span><span style="color:#24292E;">(), oneLevelDict.</span><span style="color:#6F42C1;">getDictValue</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 3、递归获取子级字典</span></span>
<span class="line"><span style="color:#24292E;">        result.</span><span style="color:#6F42C1;">setItems</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(oneLevelDict.</span><span style="color:#6F42C1;">getDictId</span><span style="color:#24292E;">()));</span></span>
<span class="line highlighted"><span style="color:#24292E;">        resultList.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// #####打印计时#####</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;总耗时：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> timer.</span><span style="color:#6F42C1;">interval</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;ms&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> resultList;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 根据父ID查询子字典树</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">parentId</span><span style="color:#6A737D;"> 父ID</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@return</span><span style="color:#6A737D;"> 子字典树</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">KeyValueItemVo</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(Long parentId) {</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; children </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">listDictByCodeAndParentId</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, parentId);</span></span>
<span class="line highlighted"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (CollUtil.</span><span style="color:#6F42C1;">isEmpty</span><span style="color:#24292E;">(children)) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; resultList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    children.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(child </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        KeyValueItemVo result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(child.</span><span style="color:#6F42C1;">getDictKey</span><span style="color:#24292E;">(), child.</span><span style="color:#6F42C1;">getDictValue</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">        result.</span><span style="color:#6F42C1;">setItems</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(child.</span><span style="color:#6F42C1;">getDictId</span><span style="color:#24292E;">()));</span></span>
<span class="line highlighted"><span style="color:#24292E;">        resultList.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> resultList;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 根据字典码和父ID查询字典列表</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">code</span><span style="color:#6A737D;">     字典码</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">parentId</span><span style="color:#6A737D;"> 父ID</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@return</span><span style="color:#6A737D;"> 字典列表</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">SysDict</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listDictByCodeAndParentId</span><span style="color:#24292E;">(String code, Long parentId) {</span></span>
<span class="line"><span style="color:#24292E;">    LambdaQueryWrapper&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Wrappers.</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">SysDict</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">lambdaQuery</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">eq</span><span style="color:#24292E;">(StrUtil.</span><span style="color:#6F42C1;">isNotBlank</span><span style="color:#24292E;">(code), SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getCode, code)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">orderByAsc</span><span style="color:#24292E;">(SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getSort);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (parentId </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        queryWrapper.</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getParentId);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        queryWrapper.</span><span style="color:#6F42C1;">eq</span><span style="color:#24292E;">(SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getParentId, parentId);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> dictMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这种方式执行后，控制台打印了好几屏幕的查询 SQL，而且层级越深，每级的数据越多，产生的 SQL 查询也会越多，程序的执行效率自然就会很低。</p><p><img src="`+E+`" alt="202209072221666"></p><h2 id="程序递归处理方案" tabindex="-1">程序递归处理方案 <a class="header-anchor" href="#程序递归处理方案" aria-label="Permalink to &quot;程序递归处理方案&quot;">​</a></h2><p>既然发现了问题，那就要想办法进行优化。而性能优化除了要学治本外还要善用治标，方案一效率低的原因是由于产生了过多的 SQL 查询，对症下药自然就要减少 SQL 查询次数。</p><div class="tip custom-block"><p class="custom-block-title">优化查询思路</p><ol><li>SQL 查询出所有数据</li><li>在程序中对数据进行整理 <ol><li>过滤出一级数据</li><li>遍历一级数据</li><li>通过一级数据 <strong>递归</strong> 过滤二级...等子级数据</li></ol></li></ol></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark-dimmed has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 根据字典码查询树型字典</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">code</span><span style="color:#768390;"> 字典码</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@return</span><span style="color:#768390;"> 树型字典</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">KeyValueItemVo</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">listDictTreeByCode</span><span style="color:#ADBAC7;">(String code) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// #####开始计时#####</span></span>
<span class="line"><span style="color:#ADBAC7;">    TimeInterval</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">timer</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> DateUtil.</span><span style="color:#DCBDFB;">timer</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 1、获取所有字典列表</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    LambdaQueryWrapper</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">queryWrapper</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Wrappers.</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">SysDict</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">lambdaQuery</span><span style="color:#ADBAC7;">()</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">eq</span><span style="color:#ADBAC7;">(SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getCode, code)</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">orderByAsc</span><span style="color:#ADBAC7;">(SysDict</span><span style="color:#F47067;">::</span><span style="color:#ADBAC7;">getSort);</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">dictList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> dictMapper.</span><span style="color:#DCBDFB;">selectList</span><span style="color:#ADBAC7;">(queryWrapper);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (CollUtil.</span><span style="color:#DCBDFB;">isEmpty</span><span style="color:#ADBAC7;">(dictList)) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// 2、获取一级字典</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">oneLevelDictList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> dictList.</span><span style="color:#DCBDFB;">stream</span><span style="color:#ADBAC7;">()</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">filter</span><span style="color:#ADBAC7;">(dict </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> Objects.</span><span style="color:#DCBDFB;">isNull</span><span style="color:#ADBAC7;">(dict.</span><span style="color:#DCBDFB;">getParentId</span><span style="color:#ADBAC7;">()))</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">collect</span><span style="color:#ADBAC7;">(Collectors.</span><span style="color:#DCBDFB;">toList</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">resultList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#ADBAC7;">    oneLevelDictList.</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;">(oneLevelDict </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        KeyValueItemVo</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">result</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(oneLevelDict.</span><span style="color:#DCBDFB;">getDictKey</span><span style="color:#ADBAC7;">(), oneLevelDict.</span><span style="color:#DCBDFB;">getDictValue</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// 3、递归整理子级字典</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        result.</span><span style="color:#DCBDFB;">setItems</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(oneLevelDict.</span><span style="color:#DCBDFB;">getDictId</span><span style="color:#ADBAC7;">(), dictList));</span></span>
<span class="line"><span style="color:#ADBAC7;">        resultList.</span><span style="color:#DCBDFB;">add</span><span style="color:#ADBAC7;">(result);</span></span>
<span class="line"><span style="color:#ADBAC7;">    });</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// #####打印计时#####</span></span>
<span class="line"><span style="color:#ADBAC7;">    System.out.</span><span style="color:#DCBDFB;">println</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;总耗时：&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> timer.</span><span style="color:#DCBDFB;">interval</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;ms&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> resultList;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 根据父ID查询子字典树</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">parentId</span><span style="color:#768390;"> 父ID</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@param</span><span style="color:#768390;"> </span><span style="color:#F69D50;">dictList</span><span style="color:#768390;"> 所有该类型子字典数据</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@return</span><span style="color:#768390;"> 子字典树</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#F47067;">private</span><span style="color:#ADBAC7;"> List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">KeyValueItemVo</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(Long parentId, List</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">SysDict</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> dictList) {</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">SysDict</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">children</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> dictList.</span><span style="color:#DCBDFB;">stream</span><span style="color:#ADBAC7;">()</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">filter</span><span style="color:#ADBAC7;">(dict </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> Objects.</span><span style="color:#DCBDFB;">isNotNull</span><span style="color:#ADBAC7;">(dict.</span><span style="color:#DCBDFB;">getParentId</span><span style="color:#ADBAC7;">()) </span><span style="color:#F47067;">&amp;&amp;</span><span style="color:#ADBAC7;"> dict.</span><span style="color:#DCBDFB;">getParentId</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">equals</span><span style="color:#ADBAC7;">(parentId))</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        .</span><span style="color:#DCBDFB;">collect</span><span style="color:#ADBAC7;">(Collectors.</span><span style="color:#DCBDFB;">toList</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (CollUtil.</span><span style="color:#DCBDFB;">isEmpty</span><span style="color:#ADBAC7;">(children)) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">resultList</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#ADBAC7;">    children.</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;">(child </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        KeyValueItemVo</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">result</span><span style="color:#F69D50;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(child.</span><span style="color:#DCBDFB;">getDictKey</span><span style="color:#ADBAC7;">(), child.</span><span style="color:#DCBDFB;">getDictValue</span><span style="color:#ADBAC7;">());</span></span>
<span class="line highlighted"><span style="color:#ADBAC7;">        result.</span><span style="color:#DCBDFB;">setItems</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">getChildren</span><span style="color:#ADBAC7;">(child.</span><span style="color:#DCBDFB;">getDictId</span><span style="color:#ADBAC7;">(), dictList));</span></span>
<span class="line"><span style="color:#ADBAC7;">        resultList.</span><span style="color:#DCBDFB;">add</span><span style="color:#ADBAC7;">(result);</span></span>
<span class="line"><span style="color:#ADBAC7;">    });</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> resultList;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 根据字典码查询树型字典</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">code</span><span style="color:#6A737D;"> 字典码</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@return</span><span style="color:#6A737D;"> 树型字典</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">KeyValueItemVo</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listDictTreeByCode</span><span style="color:#24292E;">(String code) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// #####开始计时#####</span></span>
<span class="line"><span style="color:#24292E;">    TimeInterval timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DateUtil.</span><span style="color:#6F42C1;">timer</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 1、获取所有字典列表</span></span>
<span class="line highlighted"><span style="color:#24292E;">    LambdaQueryWrapper&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Wrappers.</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">SysDict</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">lambdaQuery</span><span style="color:#24292E;">()</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">eq</span><span style="color:#24292E;">(SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getCode, code)</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">orderByAsc</span><span style="color:#24292E;">(SysDict</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getSort);</span></span>
<span class="line highlighted"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; dictList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dictMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (CollUtil.</span><span style="color:#6F42C1;">isEmpty</span><span style="color:#24292E;">(dictList)) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 2、获取一级字典</span></span>
<span class="line highlighted"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; oneLevelDictList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dictList.</span><span style="color:#6F42C1;">stream</span><span style="color:#24292E;">()</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">filter</span><span style="color:#24292E;">(dict </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> Objects.</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(dict.</span><span style="color:#6F42C1;">getParentId</span><span style="color:#24292E;">()))</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">collect</span><span style="color:#24292E;">(Collectors.</span><span style="color:#6F42C1;">toList</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; resultList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    oneLevelDictList.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(oneLevelDict </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        KeyValueItemVo result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(oneLevelDict.</span><span style="color:#6F42C1;">getDictKey</span><span style="color:#24292E;">(), oneLevelDict.</span><span style="color:#6F42C1;">getDictValue</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 3、递归整理子级字典</span></span>
<span class="line highlighted"><span style="color:#24292E;">        result.</span><span style="color:#6F42C1;">setItems</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(oneLevelDict.</span><span style="color:#6F42C1;">getDictId</span><span style="color:#24292E;">(), dictList));</span></span>
<span class="line"><span style="color:#24292E;">        resultList.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// #####打印计时#####</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;总耗时：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> timer.</span><span style="color:#6F42C1;">interval</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;ms&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> resultList;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 根据父ID查询子字典树</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">parentId</span><span style="color:#6A737D;"> 父ID</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">dictList</span><span style="color:#6A737D;"> 所有该类型子字典数据</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@return</span><span style="color:#6A737D;"> 子字典树</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">KeyValueItemVo</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(Long parentId, List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">SysDict</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> dictList) {</span></span>
<span class="line highlighted"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">SysDict</span><span style="color:#24292E;">&gt; children </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dictList.</span><span style="color:#6F42C1;">stream</span><span style="color:#24292E;">()</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">filter</span><span style="color:#24292E;">(dict </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> Objects.</span><span style="color:#6F42C1;">isNotNull</span><span style="color:#24292E;">(dict.</span><span style="color:#6F42C1;">getParentId</span><span style="color:#24292E;">()) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> dict.</span><span style="color:#6F42C1;">getParentId</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(parentId))</span></span>
<span class="line highlighted"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">collect</span><span style="color:#24292E;">(Collectors.</span><span style="color:#6F42C1;">toList</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (CollUtil.</span><span style="color:#6F42C1;">isEmpty</span><span style="color:#24292E;">(children)) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; resultList </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    children.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(child </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        KeyValueItemVo result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(child.</span><span style="color:#6F42C1;">getDictKey</span><span style="color:#24292E;">(), child.</span><span style="color:#6F42C1;">getDictValue</span><span style="color:#24292E;">());</span></span>
<span class="line highlighted"><span style="color:#24292E;">        result.</span><span style="color:#6F42C1;">setItems</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getChildren</span><span style="color:#24292E;">(child.</span><span style="color:#6F42C1;">getDictId</span><span style="color:#24292E;">(), dictList));</span></span>
<span class="line"><span style="color:#24292E;">        resultList.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> resultList;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>优化查询后，我们再来看一下执行效果，控制台仅打印了一条查询 SQL，程序执行效率也有了很大的提升。</p><p><img src="`+d+`" alt="202209072245777"></p><details class="details custom-block"><summary>涉及的 VO 类结构</summary><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 单级键值对VO</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@author</span><span style="color:#768390;"> Charles7c</span></span>
<span class="line"><span style="color:#768390;"> * @date 2022/9/7 21:23</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">Accessors</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">chain</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">KeyValueVo</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#768390;">    /**</span></span>
<span class="line"><span style="color:#768390;">     * 文本</span></span>
<span class="line"><span style="color:#768390;">     */</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">private</span><span style="color:#ADBAC7;"> Object</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">label;</span></span>
<span class="line"><span style="color:#768390;">    /**</span></span>
<span class="line"><span style="color:#768390;">     * 值</span></span>
<span class="line"><span style="color:#768390;">     */</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">private</span><span style="color:#ADBAC7;"> Object</span><span style="color:#F69D50;"> </span><span style="color:#ADBAC7;">value;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 单级键值对VO</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@author</span><span style="color:#6A737D;"> Charles7c</span></span>
<span class="line"><span style="color:#6A737D;"> * @date 2022/9/7 21:23</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Accessors</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">chain</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueVo</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * 文本</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Object label;</span></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * 值</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Object value;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">/**</span></span>
<span class="line"><span style="color:#768390;"> * 多级键值对VO</span></span>
<span class="line"><span style="color:#768390;"> *</span></span>
<span class="line"><span style="color:#768390;"> * </span><span style="color:#F47067;">@author</span><span style="color:#768390;"> Charles7c</span></span>
<span class="line"><span style="color:#768390;"> * @date 2022/9/7 21:23</span></span>
<span class="line"><span style="color:#768390;"> */</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">Accessors</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">chain</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">@</span><span style="color:#F47067;">EqualsAndHashCode</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">callSuper</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">KeyValueItemVo</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">extends</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">KeyValueVo</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    /**</span></span>
<span class="line"><span style="color:#768390;">     * 子项</span></span>
<span class="line"><span style="color:#768390;">     */</span></span>
<span class="line"><span style="color:#ADBAC7;">    @</span><span style="color:#F47067;">JsonInclude</span><span style="color:#ADBAC7;">(JsonInclude.Include.NON_EMPTY)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">private</span><span style="color:#ADBAC7;"> List</span><span style="color:#F69D50;">&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#F69D50;">&gt; </span><span style="color:#ADBAC7;">items;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(Object </span><span style="color:#F69D50;">label</span><span style="color:#ADBAC7;">, Object </span><span style="color:#F69D50;">value</span><span style="color:#ADBAC7;">, List&lt;</span><span style="color:#F47067;">KeyValueItemVo</span><span style="color:#ADBAC7;">&gt; </span><span style="color:#F69D50;">items</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">(label, value);</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">.items </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> items;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">KeyValueItemVo</span><span style="color:#ADBAC7;">(Object </span><span style="color:#F69D50;">label</span><span style="color:#ADBAC7;">, Object </span><span style="color:#F69D50;">value</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">(label, value);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 多级键值对VO</span></span>
<span class="line"><span style="color:#6A737D;"> *</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@author</span><span style="color:#6A737D;"> Charles7c</span></span>
<span class="line"><span style="color:#6A737D;"> * @date 2022/9/7 21:23</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Accessors</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">chain</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">EqualsAndHashCode</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">callSuper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueVo</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * 子项</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">JsonInclude</span><span style="color:#24292E;">(JsonInclude.Include.NON_EMPTY)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; items;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">label</span><span style="color:#24292E;">, Object </span><span style="color:#E36209;">value</span><span style="color:#24292E;">, List&lt;</span><span style="color:#D73A49;">KeyValueItemVo</span><span style="color:#24292E;">&gt; </span><span style="color:#E36209;">items</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(label, value);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.items </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> items;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">KeyValueItemVo</span><span style="color:#24292E;">(Object </span><span style="color:#E36209;">label</span><span style="color:#24292E;">, Object </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(label, value);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></details>`,14);function m(s,L,I,V,v,b){const o=t,e=C("ClientOnly");return p(),r("div",null,[g,y(e,null,{default:i(()=>{var n,a;return[(((n=s.$frontmatter)==null?void 0:n.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(p(),B(o,{key:0,article:s.$frontmatter},null,8,["article"])):F("",!0)]}),_:1}),h])}const f=c(u,[["render",m]]);export{q as __pageData,f as default};
